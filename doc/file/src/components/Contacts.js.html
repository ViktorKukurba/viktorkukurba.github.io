<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/components/Contacts.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isElementOnView">isElementOnView</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">actions</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ContactsActions">ContactsActions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-HeaderActions">HeaderActions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SectionActions">SectionActions</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/About.js~About.html">About</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/App.js~App.html">App</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Contacts.js~Contacts.html">Contacts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Experience.js~Experience.html">Experience</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Greeting.js~Greeting.html">Greeting</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/Header.js~Header.html">Header</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/SectionComponent.js~SectionComponent.html">SectionComponent</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">reducers</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-contacts">contacts</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-experience">experience</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-header">header</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-portfolio">portfolio</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sections">sections</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-shapes">shapes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-store">store</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">stores</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stores/ContactsStore.js~ContactsStore.html">ContactsStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stores/ExperienceStore.js~ExperienceStore.html">ExperienceStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stores/FiguresStore.js~FiguresStore.html">FiguresStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stores/HeaderStore.js~HeaderStore.html">HeaderStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stores/PortfolioStore.js~PortfolioStore.html">PortfolioStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-contactsStore">contactsStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-experienceStore">experienceStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-figuresStore">figuresStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-headerStore">headerStore</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-portfolioStore">portfolioStore</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/components/Contacts.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import React from &apos;react&apos;
import &apos;whatwg-fetch&apos;
import SectionComponent from &apos;./SectionComponent&apos;
import ContactsConstants from &apos;../constants/ContactsConstants&apos;
import ContactsActions from &apos;../actions/ContactsActions&apos;
import store from &apos;../reducers/index&apos;

import &apos;../Contacts.css&apos;

/**
 * Contacts section.
 * @extends SectionComponent
 * @class
 */
class Contacts extends SectionComponent {
  /** Creates Contacts section. */
  constructor() {
    super();
    var state = store.getState().contacts;
    this.state = {
      social: state.social,
      alert: state.form.alert,
      sending: state.form.sending,
      sendData: {
        name: &apos;&apos;,
        email: &apos;&apos;,
        subject: &apos;&apos;,
        message: &apos;&apos;
      }
    };
  }

  /** Binds handlers on contacts store events. */
  componentWillMount() {
    this.unsubscribeStore = store.subscribe(() =&gt; {
      this.setState(store.getState().contacts.form);
    });
  }

  /** Unbinds handlers on contacts store events. */
  componentWillUnMount() {
    this.unsubscribeStore();
  }

  /**
   * Handles click on social link.
   * @param {Object} social Describes social platform.
   * @static
   */
  static handleSocialClick(social) {
    window[&apos;ga&apos;](&apos;send&apos;, {
      hitType: &apos;event&apos;,
      eventCategory: &apos;Social&apos;,
      eventAction: &apos;click&apos;,
      eventLabel: social.name
    });
  }

  /**
   * Renders social links block.
   * @return {string} JSX string.
   */
  renderSocial() {
    return (
        &lt;div className=&quot;social-networks&quot;&gt;
        {this.state.social.map((soc, i) =&gt; {
          return (&lt;a target=&quot;_blank&quot; key={i}
                  onClick={() =&gt; Contacts.handleSocialClick(soc)}
                  style={{backgroundImage: &apos;url(&apos; + soc.icon + &apos;)&apos;}}
                  href={soc.link}&gt;&lt;/a&gt;)
        })}
        &lt;/div&gt;
    )
  }

  /**
   * Handles contact form submition.
   * @param {Event} event Form submit event
   */
  handleSubmit(event) {
    event.preventDefault();
    store.dispatch((dispatch) =&gt; {
      var headers = new Headers();
      headers.append(&quot;Content-Type&quot;, &quot;application/json&quot;);
      store.dispatch(ContactsActions.sendMessage());
      fetch(&apos;/send-email.php&apos;, {
        method: &apos;POST&apos;,
        body: JSON.stringify(this.state.sendData),
        headers: headers
      }).then((response) =&gt; {
        if (response.ok) {
          dispatch(ContactsActions.sendSuccess());
          setTimeout(() =&gt; {
            dispatch({
              type: ContactsConstants.CLOSE_MESSAGE
            });
          }, 3e3);
          window[&apos;ga&apos;](&apos;send&apos;, {
            hitType: &apos;event&apos;,
            eventCategory: &apos;Contacts&apos;,
            eventAction: &apos;send&apos;,
            eventLabel: &apos;email&apos;
          });
        } else {
          dispatch(ContactsActions.sendError());
        }
      });
    });
  }

  /**
   * Handles form input values change.
   * @param {Event} event Form element change event.
   */
  handleChange(event) {
    /** @type {Object} */ var data = this.state.sendData;
    data[event.target.name] = event.target.value;
    this.setState(data);
  }

  /**
   * @override
   * @inheritDoc
   */
  renderContent() {
    return (
          &lt;div className=&quot;content row content-box&quot;&gt;
            &lt;div className=&quot;contact-box&quot;&gt;
              &lt;div className=&quot;info col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12&quot;&gt;
                &lt;p&gt;{ContactsConstants.CONTACT_MESSAGE}&lt;/p&gt;
                &lt;a href={&apos;mailto:&apos; + ContactsConstants.CONTACT_EMAIL}&gt;{ContactsConstants.CONTACT_EMAIL}&lt;/a&gt;
              &lt;/div&gt;
              &lt;form onSubmit={this.handleSubmit.bind(this)} ref=&quot;contactForm&quot;
                  className=&quot;col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12&quot;&gt;
                &lt;div className=&quot;row form-group&quot;&gt;
                  &lt;div className=&quot;col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&gt;
                    &lt;input name=&quot;name&quot; required value={this.state.sendData.name}
                        onChange={this.handleChange.bind(this)} className=&quot;form-control form-control-sm&quot; placeholder=&quot;Name&quot;/&gt;
                  &lt;/div&gt;
                  &lt;div className=&quot;col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12&quot;&gt;
                    &lt;input name=&quot;email&quot; value={this.state.sendData.email}
                        onChange={this.handleChange.bind(this)} className=&quot;form-control form-control-sm&quot; placeholder=&quot;Email&quot;/&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
                &lt;div className=&quot;form-group&quot;&gt;
                  &lt;input name=&quot;subject&quot; value={this.state.sendData.subject}
                      onChange={this.handleChange.bind(this)}
                      className=&quot;form-control form-control-sm&quot; placeholder=&quot;Subject&quot; /&gt;
                &lt;/div&gt;
                &lt;div className=&quot;form-group&quot;&gt;
                  &lt;textarea name=&quot;message&quot; required value={this.state.sendData.message}
                      onChange={this.handleChange.bind(this)} className=&quot;form-control form-control-sm&quot; placeholder=&quot;Message&quot;&gt;&lt;/textarea&gt;
                &lt;/div&gt;
                &lt;div className=&quot;form-group&quot;&gt;
                  &lt;button className=&quot;form-control form-control-sm&quot; type=&quot;submit&quot;&gt;{this.state.sending ? &apos;Sending&apos; : &apos;Send&apos;}&lt;/button&gt;
                &lt;/div&gt;
                &lt;div className=&quot;clear-fix&quot;&gt;&lt;/div&gt;
                  &lt;div className={(this.state.alert.show ? &quot;&quot; : &quot; hidden &quot;) + &quot;alert-wrapper&quot;}&gt;
                    &lt;div className={&quot;alert alert-dismissible&quot; +
                    (this.state.alert.success ? &quot; alert-success&quot; : &quot; alert-danger&quot;)} role=&quot;alert&quot;&gt;
                      &lt;button type=&quot;button&quot; className=&quot;close&quot; onClick={()=&gt;{store.dispatch({
                        type: ContactsConstants.CLOSE_MESSAGE
                      })}} aria-label=&quot;Close&quot;&gt;
                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;
                      &lt;/button&gt;
                      &lt;strong&gt;{this.state.alert.success ? &quot;Success&quot; : &quot;Error&quot;}!&lt;/strong&gt; {this.state.alert.message}
                    &lt;/div&gt;
                  &lt;/div&gt;
              &lt;/form&gt;
            &lt;/div&gt;
            &lt;div className=&quot;clear-fix&quot;&gt;&lt;/div&gt;
          {this.renderSocial()}
          &lt;/div&gt;)
  }
}

export default Contacts</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
